<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love-Matcher - AI-Powered Matchmaking</title>
    
    <!-- Meta Tags for SEO and Social Sharing -->
    <meta name="description" content="Find your perfect match through AI-powered 29-dimension compatibility analysis. Join Love-Matcher for meaningful, lasting connections.">
    <meta name="keywords" content="dating, matchmaking, AI dating, compatibility, relationships, love, online dating">
    <meta name="author" content="Love-Matcher">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Love-Matcher - AI-Powered Matchmaking">
    <meta property="og:description" content="Find your perfect match through AI-powered 29-dimension compatibility analysis.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rse-api.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíú</text></svg>">
    
    <!-- Google Fonts: Inter & Playfair Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Courier+Prime&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="public/css/styles.css">
</head>
<body>
    <!-- Navigation Bar (Hidden until logged in) -->
    <nav id="mainNav">
        <a href="#" class="nav-brand" onclick="showView('landing')" style="text-decoration: none;">
            <i class="ph-fill ph-heart"></i> Love-Matcher
        </a>
        <div class="nav-links">
            <a href="#" class="nav-link" onclick="showView('landing')"><i class="ph ph-house"></i> Home</a>
            <a href="#" class="nav-link" onclick="showView('chat')"><i class="ph ph-hammer"></i> Build Profile</a>
            <a href="#" class="nav-link" onclick="showView('profile')">
                <i class="ph ph-heart-straight"></i> Connect
                <span class="nav-badge hidden" id="matchBadge">1</span>
            </a>
            <a href="#" class="nav-link" onclick="showView('settings')"><i class="ph ph-gear"></i> Settings</a>
            <a href="#" class="nav-link" onclick="logout()"><i class="ph ph-sign-out"></i> Logout</a>
        </div>
    </nav>

    <div class="container">
        <!-- Landing Page -->
        <div id="landingPage" class="landing-page">
            <!-- Hero Section -->
            <div class="hero">
                <h1><i class="ph-fill ph-heart"></i> Love-Matcher</h1>
                <p class="tagline">One Perfect Match at a Time ‚Ä¢ Deep Compatibility ‚Ä¢ Real Connections</p>
                
                <div style="max-width: 700px; margin: 0 auto 30px; padding: 20px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 2px;">
                    <p style="color: var(--text-white); font-size: 1.1rem; line-height: 1.6; margin: 0;">
                        Skip the endless swiping and superficial matches. Love-Matcher analyzes 29 dimensions of compatibility 
                        to find someone who truly aligns with your values, goals, and lifestyle. You get <strong>one carefully selected match at a time</strong>‚Äîsomeone 
                        worth getting to know, not just another profile to scroll past.
                    </p>
                </div>
                
                <div class="cta-buttons">
                    <button class="btn-primary" onclick="scrollToAuth()">
                        Get Started Free <i class="ph-bold ph-arrow-right"></i>
                    </button>
                    <button class="btn-secondary" onclick="scrollToAbout()">
                        Learn More
                    </button>
                </div>
            </div>

            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-number" id="totalMembers">0</div>
                    <div class="stat-label">Members Joined</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="spotsRemaining">10,000</div>
                    <div class="stat-label">Free Spots Remaining</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1</div>
                    <div class="stat-label">Match at a Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">29</div>
                    <div class="stat-label">Compatibility Dimensions</div>
                </div>
            </div>

            <!-- Why Different -->
            <div class="how-it-works">
                <h2>Why Love-Matcher Is Different</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>One Match at a Time</h3>
                        <p>No endless swiping or option paralysis. Focus on one carefully selected, highly compatible person at a time for meaningful connections.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>Deep Compatibility</h3>
                        <p>We analyze 29 dimensions of compatibility‚Äîfrom life goals and values to lifestyle and communication style‚Äînot just looks and hobbies.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Privacy Protected</h3>
                        <p>Your photos and full profile stay private until both of you accept. Meet people who are genuinely interested in you, not just browsing.</p>
                    </div>
                </div>
            </div>

            <!-- About Section -->
            <div class="about-section" id="aboutSection">
                <h2>How It Works</h2>
                <p style="text-align: center; color: var(--text-gray); font-size: 1.1rem; margin-bottom: 40px; max-width: 800px; margin-left: auto; margin-right: auto;">
                    Deep compatibility analysis across 29 dimensions. One match at a time.
                </p>
                
                <div class="about-content">
                    <div class="about-box">
                        <h3><i class="ph-fill ph-user-plus" style="font-size: 1.5em;"></i> Build Your Profile</h3>
                        <p>Share your values, goals, and what matters most through natural conversation. We analyze 29 dimensions including life stage, family values, communication style, and lifestyle preferences.</p>
                    </div>
                    
                    <div class="about-box">
                        <h3><i class="ph-fill ph-heart-straight" style="font-size: 1.5em;"></i> Get One Match</h3>
                        <p>Receive <strong>one carefully selected match</strong> based on deep compatibility. Focus on quality connections instead of endless options.</p>
                    </div>
                    
                    <div class="about-box">
                        <h3><i class="ph-fill ph-shield-check" style="font-size: 1.5em;"></i> Privacy Protected</h3>
                        <p>Your name and photos stay private until <strong>both accept</strong>. No browsing, no ghosting‚Äîjust mutual interest.</p>
                    </div>
                    
                    <div class="about-box">
                        <h3><i class="ph-fill ph-chat-circle-text" style="font-size: 1.5em;"></i> Connect & Chat</h3>
                        <p>After mutual acceptance, exchange full profiles and start chatting. Take your time getting to know each other.</p>
                    </div>
                    
                    <div class="about-box">
                        <h3><i class="ph-fill ph-diamond" style="font-size: 1.5em;"></i> Free Lifetime Access</h3>
                        <p>First 10,000 members get free lifetime access. No hidden fees, no premium tiers.</p>
                    </div>
                </div>
            </div>

            <!-- Auth Section -->
            <div class="auth-section" id="authSection">
                <div class="auth-forms">
                    <div class="auth-box">
                        <h2>Sign Up</h2>
                        <form id="signupForm">
                            <div class="form-group">
                                <label for="signupEmail">Email Address</label>
                                <input type="email" id="signupEmail" required>
                                <div id="signupEmailError" class="input-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="signupGender">Gender</label>
                                <select id="signupGender" required style="width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 6px; font-size: 1rem; background-color: white;">
                                    <option value="" disabled selected>Select your gender</option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                                <div id="signupGenderError" class="input-error"></div>
                            </div>
                            <div class="form-group">
                                <label for="signupAge">Age</label>
                                <input type="number" id="signupAge" min="18" required>
                                <div id="signupAgeError" class="input-error"></div>
                            </div>
                            <button type="submit">Create Account</button>
                        </form>
                        <div id="signupMessage"></div>
                    </div>
                    
                    <div class="auth-box">
                        <h2>Login</h2>
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail">Email Address</label>
                                <input type="email" id="loginEmail" required>
                                <div id="loginEmailError" class="input-error"></div>
                            </div>
                            <button type="submit">Login</button>
                        </form>
                        <div id="loginMessage"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Privacy Policy View -->
        <div id="privacyView" class="privacy-view">
            <div class="policy-container">
                <h1>Privacy Policy</h1>
                <p class="last-updated">Last Updated: November 11, 2025</p>
                <!-- Content truncated for brevity in this rewrite, linking to policy -->
                <p>See full privacy policy in documentation.</p>
                <button class="btn-primary" onclick="showView('landing')" style="margin-top: 30px;">Back to Home</button>
            </div>
        </div>

        <!-- Terms of Service View -->
        <div id="termsView" class="terms-view">
            <div class="policy-container">
                <h1>Terms of Service</h1>
                <p class="last-updated">Last Updated: November 11, 2025</p>
                <!-- Content truncated for brevity in this rewrite, linking to terms -->
                <p>See full terms of service in documentation.</p>
                <button class="btn-primary" onclick="showView('landing')" style="margin-top: 30px;">Back to Home</button>
            </div>
        </div>

        <!-- Chat View -->
        <div id="chatView" class="chat-view">
            <div class="chat-container">
                <div class="chat-main">
                    <div class="chat-header">
                        <h3><i class="ph ph-hammer"></i> Build Your Profile</h3>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <div>Hi! Let's build your profile together. First, tell me your name, where you're located, and a bit about yourself. Then we'll dive into what matters most to you in a relationship.</div>
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Type your message...">
                        <button onclick="sendMessage()">Send</button>
                    </div>
                </div>

                <div class="chat-sidebar">
                    <!-- Matching Status Toggle -->
                    <div class="sidebar-section">
                        <div class="sidebar-title"><i class="ph ph-heart"></i> Matching Status</div>
                        <div class="toggle-container">
                            <label class="toggle-switch">
                                <input type="checkbox" id="buildMatchingToggle" onchange="toggleBuildMatchingStatus()">
                                <span class="toggle-slider"></span>
                            </label>
                            <span id="buildMatchingStatusLabel" class="status-text active">Active</span>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <div class="sidebar-title"><i class="ph ph-target"></i> Profile Progress</div>
                        <div class="profile-progress">
                            <div class="progress-label">
                                <span><span id="sidebarDimensionCount">0</span>/29 Dimensions</span>
                                <span id="sidebarPercentage">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="sidebarProgressBar" style="width: 0%;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Photo Upload in Build Profile View -->
                    <div class="sidebar-section">
                        <div class="sidebar-title"><i class="ph ph-camera"></i> Your Photos</div>
                        <p style="color: var(--text-gray); font-size: 0.85rem; margin-bottom: 12px;">
                            Upload up to 3 photos (shown to matches after mutual acceptance)
                        </p>
                        <div class="photo-grid" id="chatPhotoGrid" style="grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                            <!-- Photos rendered by JS -->
                        </div>
                        <input type="file" id="chatPhotoUploadInput" accept="image/*" style="display: none;" onchange="handleChatPhotoSelect(event)">
                        <button class="photo-upload-btn" id="chatPhotoUploadBtn" onclick="triggerChatPhotoUpload()" style="padding: 8px; font-size: 0.9rem;">
                            <i class="ph ph-upload-simple"></i> Upload Photo
                        </button>
                        <p style="color: var(--text-gray); font-size: 0.75rem; margin-top: 8px; text-align: center;">Max 5MB ‚Ä¢ JPG, PNG, GIF</p>
                    </div>

                    <div class="sidebar-section" style="flex: 1; display: flex; flex-direction: column;">
                        <div class="sidebar-title"><i class="ph ph-file-code"></i> Raw Profile JSON</div>
                        <div id="jsonViewer" class="json-viewer">
                            {
  "dimensions": {},
  "status": "building profile..."
}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Match View -->
        <div id="matchView" class="matches-view">
            <div class="matches-header">
                <h2>Your Match</h2>
                <p style="color: var(--text-gray); margin-top: 10px;">Based on 29-dimension compatibility analysis</p>
                
                <!-- Active/Inactive Toggle -->
                <div class="toggle-container">
                    <span class="toggle-label">Matching Status:</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="matchingActiveToggle" onchange="toggleMatchingStatus()">
                        <span class="toggle-slider"></span>
                    </label>
                    <span id="matchingStatusLabel" class="status-text active">Active</span>
                </div>
            </div>
            <div id="matchContainer" style="max-width: 800px; margin: 0 auto;">
                <!-- Match content will be loaded here -->
            </div>
        </div>

        <!-- Profile View (Combined with Match) -->
        <div id="profileView" class="profile-view">
            <div class="profile-layout">
                <div>
                    <!-- Match Section -->
                    <div id="matchSection" style="margin-bottom: 20px;">
                        <!-- Match content will be loaded here -->
                    </div>

                    <div class="profile-container">
                        <div class="profile-header">
                            <h2>Connect with Match</h2>
                            <p style="color: var(--text-gray);">Your profile and matches</p>
                            
                            <!-- Prominent Active/Inactive Toggle -->
                            <div class="toggle-container" style="margin-top: 20px;">
                                <span class="toggle-label">Matching Status:</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="mainMatchingToggle" onchange="toggleMainMatchingStatus()">
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="mainMatchingStatusLabel" class="status-text active">Active</span>
                            </div>
                        </div>
                        
                        <div class="profile-stats">
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileDimCount">0</div>
                                <div class="profile-stat-label">Dimensions Filled</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileCompletion">0%</div>
                                <div class="profile-stat-label">Completion</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value" id="profileConvos">0</div>
                                <div class="profile-stat-label">Conversations</div>
                            </div>
                        </div>
                        
                        <!-- Basic Info Section -->
                        <div style="margin: 25px 0; padding: 20px; background: rgba(255, 255, 255, 0.02); border-radius: 2px; border-left: 4px solid #d4af37;">
                            <h3 style="color: #d4af37; margin-bottom: 15px; font-size: 1.2rem;"><i class="ph ph-user"></i> Basic Info</h3>
                            <div id="basicInfoDisplay" style="color: #f0f0f0;">
                                <p style="margin-bottom: 10px;"><strong>Name:</strong> <span id="profileName">Not set</span></p>
                                <p style="margin-bottom: 10px;"><strong>Age:</strong> <span id="profileAge">-</span></p>
                                <p style="margin-bottom: 10px;"><strong>Location:</strong> <span id="profileLocation">Not set</span></p>
                                <p style="margin-bottom: 15px;"><strong>About:</strong></p>
                                <p id="profileAbout" style="color: #cccccc; font-style: italic; line-height: 1.6; padding: 10px; background: #111; border-radius: 2px;">
                                    Share something about yourself in the Build section...
                                </p>
                            </div>
                            <p style="color: var(--text-gray); font-size: 0.9rem; margin-top: 15px; text-align: center;">
                                Update your info in the <a href="#" onclick="showView('chat'); return false;" style="color: #d4af37; font-weight: 600;">Build Profile</a> section
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="json-panel">
                    <h3><i class="ph ph-file-code"></i> Raw Profile JSON</h3>
                    <div id="profileJsonViewer" class="json-scroll">
                        {
  "loading": "profile data..."
}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings View -->
    <div id="settingsView" class="settings-view" style="display: none;">
        <div class="container" style="max-width: 1000px; margin: 50px auto; padding: 20px;">
            <h1 style="color: var(--gold-primary); margin-bottom: 30px;"><i class="ph ph-gear"></i> Settings</h1>
            
            <!-- Account Info -->
            <div class="settings-section">
                <h2>Account</h2>
                <div class="settings-card">
                    <div class="settings-item">
                        <label>Email (Username)</label>
                        <div id="settingsEmail" style="color: var(--text-white); font-weight: 600;">Loading...</div>
                    </div>
                    <div class="settings-item">
                        <label>Member Number</label>
                        <div id="settingsMemberNum" style="color: var(--text-white); font-weight: 600;">Loading...</div>
                    </div>
                    <div class="settings-item">
                        <label>Account Type</label>
                        <div id="settingsAccountType" style="color: var(--text-white); font-weight: 600;">Loading...</div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Stats -->
            <div class="settings-section">
                <h2>Profile Stats</h2>
                <div class="settings-card">
                    <div class="settings-item">
                        <label>Profile Completion</label>
                        <div id="settingsCompletion" style="color: var(--gold-primary); font-weight: 600; font-size: 1.2rem;">0%</div>
                    </div>
                    <div class="settings-item">
                        <label>Dimensions Filled</label>
                        <div id="settingsDimensions" style="color: var(--text-white);">0 / 29</div>
                    </div>
                    <div class="settings-item">
                        <label>Conversations</label>
                        <div id="settingsConversations" style="color: var(--text-white);">0</div>
                    </div>
                    <div class="settings-item">
                        <label>Photos Uploaded</label>
                        <div id="settingsPhotos" style="color: var(--text-white);">0 / 3</div>
                    </div>
                </div>
            </div>
            
            <!-- Matching Status -->
            <div class="settings-section">
                <h2>Matching</h2>
                <div class="settings-card">
                    <div class="settings-item">
                        <label>Matching Status</label>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <button id="settingsToggleBtn" onclick="toggleMatchingFromSettings()" class="btn-primary" style="padding: 10px 25px;">
                                Loading...
                            </button>
                            <span id="settingsMatchingStatus" style="color: var(--text-gray); font-size: 0.9rem;"></span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>Current Match</label>
                        <div id="settingsCurrentMatch" style="color: var(--text-white);">Loading...</div>
                    </div>
                </div>
            </div>
            
            <!-- Theme Picker -->
            <div class="settings-section">
                <h2>Theme</h2>
                <div class="settings-card">
                    <div class="settings-item">
                        <label>Choose Your Style</label>
                        <select id="themeSelector" onchange="changeTheme(this.value)" style="padding: 12px; border-radius: 8px; border: 1px solid var(--gold-primary); font-size: 1rem; width: 100%; max-width: 300px; background: var(--black-card); color: var(--text-white);">
                            <option value="default">Luxury Gold (Default)</option>
                            <option value="borland">Borland Classic (Turbo Vision)</option>
                            <option value="dark">Dark Mode</option>
                            <option value="nature">Nature Green</option>
                            <option value="ocean">Ocean Blue</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <button onclick="showView('profile')" class="btn-primary" style="margin-top: 30px;">Back to Profile</button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="ph-fill ph-heart" style="color: var(--gold-primary);"></i> Love-Matcher</h3>
                <p>AI-powered matchmaking using 29-dimension compatibility analysis for meaningful, lasting relationships.</p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="#" onclick="scrollToAuth(); return false;">Sign Up</a>
                <a href="#" onclick="scrollToAbout(); return false;">About</a>
                <a href="#" onclick="showView('privacy'); return false;">Privacy Policy</a>
                <a href="#" onclick="showView('terms'); return false;">Terms of Service</a>
            </div>
            
            <div class="footer-section">
                <h3>Support</h3>
                <a href="mailto:mickeyshaughnessy@gmail.com">Contact Support</a>
                <p style="color: var(--text-gray); margin-top: 10px;">‚úâÔ∏è mickeyshaughnessy@gmail.com</p>
            </div>
            
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Love-Matcher. All rights reserved. | Made with ‚ù§Ô∏è by AI</p>
        </div>
    </footer>

    <!-- App Logic -->
    <script src="public/js/app.js"></script>
</body>
</html>
