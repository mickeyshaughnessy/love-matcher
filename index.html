<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoveDashMatcher - AI-Powered Matchmaking</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        /* Navigation Bar */
        nav {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: none;
        }
        
        nav.active {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            font-size: 1.3rem;
            font-weight: bold;
            color: #764ba2;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .nav-link {
            color: #495057;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 6px;
            transition: all 0.2s;
            position: relative;
        }
        
        .nav-link:hover {
            background: #f8f9fa;
            color: #764ba2;
        }
        
        .nav-link.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .nav-badge {
            position: absolute;
            top: 0;
            right: 0;
            background: #dc3545;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Landing Page */
        .landing-page {
            display: block;
        }
        
        .hero {
            background: white;
            border-radius: 15px;
            padding: 60px 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .hero h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        
        .hero .tagline {
            font-size: 1.3rem;
            color: #6c757d;
            margin-bottom: 30px;
        }
        
        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.4);
        }
        
        .btn-secondary {
            background: white;
            color: #764ba2;
            padding: 15px 40px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            border: 2px solid #764ba2;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: #764ba2;
            color: white;
        }
        
        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label {
            color: #6c757d;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        /* How It Works Section */
        .how-it-works {
            background: white;
            border-radius: 15px;
            padding: 50px 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .how-it-works h2 {
            text-align: center;
            font-size: 2.2rem;
            color: #764ba2;
            margin-bottom: 40px;
        }
        
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }
        
        .step {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 10px;
            position: relative;
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        
        .step h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .step p {
            color: #6c757d;
            line-height: 1.6;
        }
        
        /* 29 Dimensions Showcase */
        .dimensions-showcase {
            background: white;
            border-radius: 15px;
            padding: 50px 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .dimensions-showcase h2 {
            text-align: center;
            font-size: 2.2rem;
            color: #764ba2;
            margin-bottom: 20px;
        }
        
        .dimensions-intro {
            text-align: center;
            color: #6c757d;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .dimensions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }
        
        .dimension-card {
            background: linear-gradient(135deg, #667eea05 0%, #764ba205 100%);
            padding: 15px 20px;
            border-radius: 8px;
            border-left: 4px solid #764ba2;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .dimension-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(118,75,162,0.2);
        }
        
        .dimension-number {
            font-weight: bold;
            color: #764ba2;
            margin-right: 8px;
        }
        
        /* Dashboard View */
        .dashboard-view {
            display: none;
        }
        
        .dashboard-header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .welcome-message {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 10px;
        }
        
        .membership-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .profile-progress {
            margin-top: 20px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .card-description {
            color: #6c757d;
            margin-bottom: 15px;
        }
        
        .card-action {
            color: #764ba2;
            font-weight: 600;
            text-decoration: none;
        }
        
        /* Chat View */
        .chat-view {
            display: none;
        }
        
        .chat-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            height: calc(100vh - 150px);
        }
        
        .chat-main {
            background: white;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-header h3 {
            font-size: 1.3rem;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 12px;
            max-width: 75%;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message.user {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }
        
        .message.ai {
            background: white;
            color: #333;
            border: 1px solid #e9ecef;
            border-bottom-left-radius: 4px;
        }
        
        .message-time {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .chat-input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
        }
        
        .chat-input-area input {
            flex: 1;
            padding: 12px 18px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 1rem;
            transition: border 0.2s;
        }
        
        .chat-input-area input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .chat-input-area button {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .chat-input-area button:hover {
            transform: scale(1.05);
        }
        
        /* Chat Sidebar */
        .chat-sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .sidebar-section {
            margin-bottom: 25px;
        }
        
        .sidebar-title {
            font-weight: 600;
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .dimension-progress {
            margin-bottom: 15px;
        }
        
        .dimension-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .dimension-item.completed {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 3px solid #764ba2;
        }
        
        .dimension-item.active {
            background: linear-gradient(135deg, #FFD70015 0%, #FFA50015 100%);
            border-left: 3px solid #FFA500;
        }
        
        .dimension-status {
            font-size: 1.2rem;
        }
        
        /* Matches View */
        .matches-view {
            display: none;
        }
        
        .matches-header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .matches-header h2 {
            font-size: 2rem;
            color: #764ba2;
            margin-bottom: 10px;
        }
        
        .match-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .match-score {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .compatibility-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }
        
        .match-info {
            margin-bottom: 15px;
        }
        
        .match-info h3 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .shared-dimensions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }
        
        .dimension-tag {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            color: #764ba2;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .match-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .match-actions button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-reject {
            background: #dc3545;
            color: white;
        }
        
        .btn-reject:hover {
            background: #c82333;
        }
        
        /* Match Chat */
        .match-chat-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        
        .match-chat-messages {
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .match-message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 12px;
            max-width: 75%;
            animation: slideIn 0.3s ease;
        }
        
        .match-message.sent {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }
        
        .match-message.received {
            background: white;
            color: #333;
            border: 1px solid #e9ecef;
            border-bottom-left-radius: 4px;
        }
        
        .match-chat-input-area {
            display: flex;
            gap: 10px;
        }
        
        .match-chat-input-area input {
            flex: 1;
            padding: 12px 18px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 1rem;
            transition: border 0.2s;
        }
        
        .match-chat-input-area input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .match-chat-input-area button {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .match-chat-input-area button:hover {
            transform: scale(1.05);
        }
        
        /* Profile View */
        .profile-view {
            display: none;
        }
        
        .profile-container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .profile-header {
            margin-bottom: 30px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 20px;
        }
        
        .profile-header h2 {
            color: #764ba2;
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .dimensions-list {
            display: grid;
            gap: 20px;
        }
        
        .dimension-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #764ba2;
        }
        
        .dimension-section h3 {
            color: #764ba2;
            margin-bottom: 10px;
        }
        
        .dimension-content {
            color: #495057;
            line-height: 1.6;
        }
        
        /* Auth Section */
        .auth-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            margin: 20px auto;
            max-width: 900px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .auth-forms {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .auth-box {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
        }
        
        .auth-box h2 {
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #495057;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .auth-box button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .auth-box button:hover {
            transform: translateY(-2px);
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            border: 1px solid #f5c6cb;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            border: 1px solid #c3e6cb;
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        .toggle-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
            border-radius: 10px;
        }
        
        .toggle-label {
            font-weight: 600;
            font-size: 1.1rem;
            color: #333;
        }
        
        .status-text {
            font-weight: 700;
            font-size: 1.1rem;
            min-width: 80px;
            text-align: left;
        }
        
        .status-text.active {
            color: #28a745;
        }
        
        .status-text.inactive {
            color: #dc3545;
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .auth-forms {
                grid-template-columns: 1fr;
            }
            
            .chat-container {
                grid-template-columns: 1fr;
            }
            
            .chat-sidebar {
                display: none;
            }
            
            .dimensions-grid {
                grid-template-columns: 1fr;
            }
            
            .steps {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar (Hidden until logged in) -->
    <nav id="mainNav">
        <div class="nav-brand">🔷 LoveDashMatcher</div>
        <div class="nav-links">
            <a href="#" class="nav-link" onclick="showView('dashboard')">Dashboard</a>
            <a href="#" class="nav-link" onclick="showView('chat')">Chat with AI</a>
            <a href="#" class="nav-link" onclick="showView('match')">
                Match
                <span class="nav-badge hidden" id="matchBadge">1</span>
            </a>
            <a href="#" class="nav-link" onclick="showView('profile')">Profile</a>
            <a href="#" class="nav-link" onclick="logout()">Logout</a>
        </div>
    </nav>

    <div class="container">
        <!-- Landing Page -->
        <div id="landingPage" class="landing-page">
            <!-- Hero Section -->
            <div class="hero">
                <h1>🔷 LoveDashMatcher</h1>
                <p class="tagline">Find Your Perfect Match Through AI-Powered 29-Dimension Compatibility Analysis</p>
                <div class="cta-buttons">
                    <button class="btn-primary" onclick="scrollToAuth()">Get Started Free</button>
                    <button class="btn-secondary" onclick="scrollToDimensions()">Learn More</button>
                </div>
            </div>

            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-number" id="totalMembers">0</div>
                    <div class="stat-label">Members Joined</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="spotsRemaining">10,000</div>
                    <div class="stat-label">Free Spots Remaining</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">29</div>
                    <div class="stat-label">Compatibility Dimensions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">AI</div>
                    <div class="stat-label">Powered Matching</div>
                </div>
            </div>

            <!-- How It Works -->
            <div class="how-it-works">
                <h2>How It Works</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>Chat with AI</h3>
                        <p>Have natural conversations with our AI matchmaker. Share your values, goals, lifestyle, and what matters most to you in a relationship.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>Build Your Profile</h3>
                        <p>Through conversation, we build a comprehensive 29-dimension compatibility profile analyzing everything from faith and family to hobbies and humor.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Get Matched</h3>
                        <p>Our advanced algorithm finds your most compatible matches based on deep alignment across all 29 dimensions for lasting relationships.</p>
                    </div>
                </div>
            </div>

            <!-- 29 Dimensions Showcase -->
            <div class="dimensions-showcase" id="dimensionsSection">
                <h2>29 Dimensions of Compatibility</h2>
                <p class="dimensions-intro">We analyze compatibility across 29 critical dimensions to ensure deep, lasting connections:</p>
                <div class="dimensions-grid">
                    <div class="dimension-card"><span class="dimension-number">1.</span> Age & Life Stage</div>
                    <div class="dimension-card"><span class="dimension-number">2.</span> Geographic Compatibility</div>
                    <div class="dimension-card"><span class="dimension-number">3.</span> Education & Intellectual Curiosity</div>
                    <div class="dimension-card"><span class="dimension-number">4.</span> Career Ambition</div>
                    <div class="dimension-card"><span class="dimension-number">5.</span> Financial Philosophy</div>
                    <div class="dimension-card"><span class="dimension-number">6.</span> Family of Origin</div>
                    <div class="dimension-card"><span class="dimension-number">7.</span> Children & Parenting</div>
                    <div class="dimension-card"><span class="dimension-number">8.</span> Spirituality & Religion</div>
                    <div class="dimension-card"><span class="dimension-number">9.</span> Political Worldview</div>
                    <div class="dimension-card"><span class="dimension-number">10.</span> Communication Style</div>
                    <div class="dimension-card"><span class="dimension-number">11.</span> Conflict Resolution</div>
                    <div class="dimension-card"><span class="dimension-number">12.</span> Physical Health & Fitness</div>
                    <div class="dimension-card"><span class="dimension-number">13.</span> Mental Health & Self-Care</div>
                    <div class="dimension-card"><span class="dimension-number">14.</span> Social Energy (Introvert/Extrovert)</div>
                    <div class="dimension-card"><span class="dimension-number">15.</span> Domestic Lifestyle</div>
                    <div class="dimension-card"><span class="dimension-number">16.</span> Cleanliness & Organization</div>
                    <div class="dimension-card"><span class="dimension-number">17.</span> Food & Dining Habits</div>
                    <div class="dimension-card"><span class="dimension-number">18.</span> Travel & Adventure</div>
                    <div class="dimension-card"><span class="dimension-number">19.</span> Hobbies & Recreation</div>
                    <div class="dimension-card"><span class="dimension-number">20.</span> Cultural Background</div>
                    <div class="dimension-card"><span class="dimension-number">21.</span> Humor & Playfulness</div>
                    <div class="dimension-card"><span class="dimension-number">22.</span> Affection Expression</div>
                    <div class="dimension-card"><span class="dimension-number">23.</span> Independence vs Togetherness</div>
                    <div class="dimension-card"><span class="dimension-number">24.</span> Decision-Making Style</div>
                    <div class="dimension-card"><span class="dimension-number">25.</span> Time Management</div>
                    <div class="dimension-card"><span class="dimension-number">26.</span> Technology & Digital Habits</div>
                    <div class="dimension-card"><span class="dimension-number">27.</span> Pet Preferences</div>
                    <div class="dimension-card"><span class="dimension-number">28.</span> Substance Use Attitudes</div>
                    <div class="dimension-card"><span class="dimension-number">29.</span> Long-Term Vision & Legacy</div>
                </div>
            </div>

            <!-- Auth Section -->
            <div class="auth-section" id="authSection">
                <div class="auth-forms">
                    <div class="auth-box">
                        <h2>Sign Up</h2>
                        <form id="signupForm">
                            <div class="form-group">
                                <label for="signupEmail">Email Address</label>
                                <input type="email" id="signupEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="signupPassword">Password</label>
                                <input type="password" id="signupPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="signupAge">Age</label>
                                <input type="number" id="signupAge" min="18" required>
                            </div>
                            <button type="submit">Create Account</button>
                        </form>
                        <div id="signupMessage"></div>
                    </div>
                    
                    <div class="auth-box">
                        <h2>Login</h2>
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail">Email Address</label>
                                <input type="email" id="loginEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">Password</label>
                                <input type="password" id="loginPassword" required>
                            </div>
                            <button type="submit">Login</button>
                        </form>
                        <div id="loginMessage"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard View -->
        <div id="dashboardView" class="dashboard-view">
            <div class="dashboard-header">
                <h1 class="welcome-message">Welcome back, <span id="userName">Friend</span>!</h1>
                <div class="membership-badge" id="membershipBadge">Free Lifetime Member #0</div>
                
                <div class="profile-progress">
                    <div class="progress-label">
                        <span>Profile Completion</span>
                        <span id="profilePercentage">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="profileProgressBar" style="width: 0%;">0/29 Dimensions</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-cards">
                <div class="dashboard-card" onclick="showView('chat')">
                    <div class="card-icon">💬</div>
                    <h3 class="card-title">Continue Chat</h3>
                    <p class="card-description">Chat with your AI matchmaker to build your compatibility profile.</p>
                    <a href="#" class="card-action">Start Conversation →</a>
                </div>

                <div class="dashboard-card" onclick="showView('match')">
                    <div class="card-icon">❤️</div>
                    <h3 class="card-title">View Match</h3>
                    <p class="card-description">See your current match based on 29-dimension analysis.</p>
                    <a href="#" class="card-action">View Match →</a>
                </div>

                <div class="dashboard-card" onclick="showView('profile')">
                    <div class="card-icon">👤</div>
                    <h3 class="card-title">My Profile</h3>
                    <p class="card-description">Review and update your compatibility dimensions.</p>
                    <a href="#" class="card-action">View Profile →</a>
                </div>
            </div>
        </div>

        <!-- Chat View -->
        <div id="chatView" class="chat-view">
            <div class="chat-container">
                <div class="chat-main">
                    <div class="chat-header">
                        <h3>💬 Chat with Your AI Matchmaker</h3>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <div>Hi! I'm your AI matchmaker. I'm here to help you find your perfect partner by understanding what matters most to you. Tell me about yourself and what you're looking for in a relationship!</div>
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Type your message...">
                        <button onclick="sendMessage()">Send</button>
                    </div>
                </div>

                <div class="chat-sidebar">
                    <div class="sidebar-section">
                        <div class="sidebar-title">🎯 Profile Progress</div>
                        <div class="profile-progress">
                            <div class="progress-label">
                                <span><span id="sidebarDimensionCount">0</span>/29 Dimensions</span>
                                <span id="sidebarPercentage">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="sidebarProgressBar" style="width: 0%;"></div>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <div class="sidebar-title">📊 Dimensions Covered</div>
                        <div id="dimensionsList" class="dimension-progress">
                            <div class="dimension-item">
                                <span>Getting started...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Match View -->
        <div id="matchView" class="matches-view">
            <div class="matches-header">
                <h2>Your Match</h2>
                <p style="color: #6c757d; margin-top: 10px;">Based on 29-dimension compatibility analysis</p>
                
                <!-- Active/Inactive Toggle -->
                <div class="toggle-container">
                    <span class="toggle-label">Matching Status:</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="matchingActiveToggle" onchange="toggleMatchingStatus()">
                        <span class="toggle-slider"></span>
                    </label>
                    <span id="matchingStatusLabel" class="status-text active">Active</span>
                </div>
            </div>
            <div id="matchContainer" style="max-width: 800px; margin: 0 auto;">
                <!-- Match content will be loaded here -->
                <div style="text-align: center; padding: 40px; color: #2c3e50;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">🔍</div>
                    <h3 style="color: #2c3e50;">No match yet</h3>
                    <p style="color: #34495e;">Complete your profile to get matched!</p>
                    <button class="btn-primary" onclick="showView('chat')" style="margin-top: 20px;">Continue Building Profile</button>
                </div>
            </div>
        </div>

        <!-- Profile View -->
        <div id="profileView" class="profile-view">
            <div class="profile-container">
                <div class="profile-header">
                    <h2>My Compatibility Profile</h2>
                    <p style="color: #6c757d;">Your 29-dimension profile for matchmaking</p>
                </div>
                <div class="dimensions-list" id="profileDimensionsList">
                    <div style="text-align: center; padding: 40px; color: #6c757d;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">💬</div>
                        <h3>Start building your profile</h3>
                        <p>Chat with our AI matchmaker to create your comprehensive compatibility profile.</p>
                        <button class="btn-primary" onclick="showView('chat')" style="margin-top: 20px;">Start Chat</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'https://rse-api.com:5009';
        let authToken = null;
        let currentUser = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadMemberStats();
        });

        // Load membership statistics
        async function loadMemberStats() {
            try {
                const response = await fetch(`${API_URL}/stats`);
                const data = await response.json();
                
                if (response.ok) {
                    document.getElementById('totalMembers').textContent = data.total_members.toLocaleString();
                    document.getElementById('spotsRemaining').textContent = data.spots_remaining.toLocaleString();
                }
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Scroll functions
        function scrollToAuth() {
            document.getElementById('authSection').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function scrollToDimensions() {
            document.getElementById('dimensionsSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // View management
        function showView(viewName) {
            // Hide all views
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('dashboardView').style.display = 'none';
            document.getElementById('chatView').style.display = 'none';
            document.getElementById('matchView').style.display = 'none';
            document.getElementById('profileView').style.display = 'none';

            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));

            // Show selected view
            switch(viewName) {
                case 'dashboard':
                    document.getElementById('dashboardView').style.display = 'block';
                    document.querySelectorAll('.nav-link')[0].classList.add('active');
                    loadDashboard();
                    break;
                case 'chat':
                    document.getElementById('chatView').style.display = 'block';
                    document.querySelectorAll('.nav-link')[1].classList.add('active');
                    loadChatHistory();
                    break;
                case 'match':
                    document.getElementById('matchView').style.display = 'block';
                    document.querySelectorAll('.nav-link')[2].classList.add('active');
                    loadMatch();
                    break;
                case 'profile':
                    document.getElementById('profileView').style.display = 'block';
                    document.querySelectorAll('.nav-link')[3].classList.add('active');
                    loadProfile();
                    break;
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Signup
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const age = document.getElementById('signupAge').value;
            
            try {
                const response = await fetch(`${API_URL}/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password, age })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    authToken = data.token;
                    currentUser = data;
                    document.getElementById('signupMessage').innerHTML = 
                        `<div class="success">${data.message}</div>`;
                    
                    // Show dashboard
                    setTimeout(() => {
                        document.getElementById('mainNav').classList.add('active');
                        showView('dashboard');
                    }, 1500);
                } else {
                    document.getElementById('signupMessage').innerHTML = 
                        `<div class="error">${data.error}</div>`;
                }
            } catch (error) {
                document.getElementById('signupMessage').innerHTML = 
                    `<div class="error">Connection error. Please try again.</div>`;
            }
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            try {
                const response = await fetch(`${API_URL}/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    authToken = data.token;
                    document.getElementById('loginMessage').innerHTML = 
                        `<div class="success">Login successful!</div>`;
                    
                    // Show dashboard
                    setTimeout(() => {
                        document.getElementById('mainNav').classList.add('active');
                        showView('dashboard');
                    }, 1000);
                } else {
                    document.getElementById('loginMessage').innerHTML = 
                        `<div class="error">${data.error}</div>`;
                }
            } catch (error) {
                document.getElementById('loginMessage').innerHTML = 
                    `<div class="error">Connection error. Please try again.</div>`;
            }
        });

        // Load dashboard
        async function loadDashboard() {
            try {
                const response = await fetch(`${API_URL}/profile`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const profile = await response.json();
                
                if (response.ok) {
                    // Update user name
                    document.getElementById('userName').textContent = profile.email.split('@')[0];
                    
                    // Update membership badge
                    if (profile.is_free_member) {
                        document.getElementById('membershipBadge').textContent = 
                            `💎 Free Lifetime Member #${profile.member_number}`;
                    }
                    
                    // Calculate profile completion
                    const dimensionsCount = Object.keys(profile.dimensions || {}).length;
                    const percentage = Math.round((dimensionsCount / 29) * 100);
                    
                    document.getElementById('profilePercentage').textContent = `${percentage}%`;
                    document.getElementById('profileProgressBar').style.width = `${percentage}%`;
                    document.getElementById('profileProgressBar').textContent = `${dimensionsCount}/29 Dimensions`;
                }
            } catch (error) {
                console.error('Error loading dashboard:', error);
            }
        }

        // Load chat history
        async function loadChatHistory() {
            try {
                const response = await fetch(`${API_URL}/chat/history`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const data = await response.json();
                
                if (response.ok && data.messages.length > 0) {
                    const chatMessages = document.getElementById('chatMessages');
                    chatMessages.innerHTML = '';
                    
                    data.messages.forEach(msg => {
                        addMessage(msg.user, 'user', msg.timestamp);
                        addMessage(msg.ai, 'ai', msg.timestamp);
                    });
                }
                
                // Update sidebar
                updateChatSidebar();
            } catch (error) {
                console.error('Error loading chat history:', error);
            }
        }

        // Update chat sidebar with dimension progress
        async function updateChatSidebar() {
            try {
                const response = await fetch(`${API_URL}/profile`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const profile = await response.json();
                
                if (response.ok) {
                    const dimensionsCount = Object.keys(profile.dimensions || {}).length;
                    const percentage = Math.round((dimensionsCount / 29) * 100);
                    
                    document.getElementById('sidebarDimensionCount').textContent = dimensionsCount;
                    document.getElementById('sidebarPercentage').textContent = `${percentage}%`;
                    document.getElementById('sidebarProgressBar').style.width = `${percentage}%`;
                    
                    // Show dimension list
                    const dimensionsList = document.getElementById('dimensionsList');
                    if (dimensionsCount > 0) {
                        dimensionsList.innerHTML = '';
                        Object.keys(profile.dimensions).forEach(key => {
                            const item = document.createElement('div');
                            item.className = 'dimension-item completed';
                            item.innerHTML = `<span>${key}</span><span class="dimension-status">✓</span>`;
                            dimensionsList.appendChild(item);
                        });
                    }
                }
            } catch (error) {
                console.error('Error updating sidebar:', error);
            }
        }

        // Send message
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addMessage(message, 'user');
            input.value = '';
            
            try {
                const response = await fetch(`${API_URL}/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    addMessage(data.response, 'ai', data.timestamp);
                    updateChatSidebar();
                } else {
                    addMessage('Sorry, there was an error. Please try again.', 'ai');
                }
            } catch (error) {
                addMessage('Connection error. Please try again.', 'ai');
            }
        }

        // Add message to chat
        function addMessage(text, type, timestamp) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const timeStr = timestamp ? new Date(timestamp).toLocaleTimeString() : 'Just now';
            
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${timeStr}</div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Enter key to send
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Load current match
        async function loadMatch() {
            try {
                const response = await fetch(`${API_URL}/match`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const data = await response.json();
                
                // Update matching toggle status - read from top level of response
                const isActive = data.matching_active !== false;
                const statusLabel = document.getElementById('matchingStatusLabel');
                document.getElementById('matchingActiveToggle').checked = isActive;
                statusLabel.textContent = isActive ? 'Active' : 'Inactive';
                statusLabel.className = isActive ? 'status-text active' : 'status-text inactive';
                
                const matchContainer = document.getElementById('matchContainer');
                
                if (response.ok && data.match) {
                    const match = data.match;
                    matchContainer.innerHTML = createMatchCard(match, isActive);
                    
                    // Load match messages if inactive (chatting)
                    if (!isActive) {
                        loadMatchMessages();
                    }
                } else {
                    // No match yet
                    const profileComplete = data.profile_complete;
                    const dimensionsCount = data.dimensions_count || 0;
                    
                    matchContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #2c3e50;">
                            <div style="font-size: 3rem; margin-bottom: 20px;">🔍</div>
                            <h3 style="color: #2c3e50; margin-bottom: 15px;">${data.message || 'No match yet'}</h3>
                            ${!profileComplete ? `
                                <p style="color: #34495e; margin-bottom: 20px;">You have ${dimensionsCount}/29 dimensions filled.</p>
                                <button class="btn-primary" onclick="showView('chat')" style="margin-top: 20px;">Continue Building Profile</button>
                            ` : `
                                <p style="color: #34495e;">Your profile is complete! We'll notify you when we find a great match.</p>
                            `}
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading match:', error);
            }
        }

        // Create match card
        function createMatchCard(match, isActive) {
            const score = Math.round((match.match_score || 0) * 100);
            
            let dimensionTags = '';
            if (match.dimensions) {
                const dimensions = Object.keys(match.dimensions).slice(0, 10);
                dimensionTags = dimensions.map(dim => 
                    `<span class="dimension-tag">${dim}</span>`
                ).join('');
            }
            
            let actionsHtml = '';
            if (isActive) {
                // Show reject button when active
                actionsHtml = `
                    <div class="match-actions">
                        <button class="btn-reject" onclick="rejectMatch()">Reject Match</button>
                    </div>
                `;
            } else {
                // Show chat interface when inactive
                actionsHtml = `
                    <div class="match-chat-container">
                        <h3 style="margin-bottom: 15px; color: #764ba2;">💬 Chat with Your Match</h3>
                        <div class="match-chat-messages" id="matchChatMessages">
                            <div style="text-align: center; color: #6c757d; padding: 20px;">
                                Start a conversation!
                            </div>
                        </div>
                        <div class="match-chat-input-area">
                            <input type="text" id="matchChatInput" placeholder="Type your message...">
                            <button onclick="sendMatchMessage()">Send</button>
                        </div>
                    </div>
                `;
            }
            
            return `
                <div class="match-card">
                    <div class="match-score">
                        <div class="compatibility-circle">${score}%</div>
                        <div style="color: #6c757d;">Compatibility</div>
                    </div>
                    <div class="match-info">
                        <h3>Your Match</h3>
                        <p style="color: #6c757d;">Age: ${match.age || 'N/A'}</p>
                        <p style="color: #6c757d; margin-top: 10px;">Matched on ${match.matched_at ? new Date(match.matched_at).toLocaleDateString() : 'recently'}</p>
                    </div>
                    <div class="shared-dimensions">
                        ${dimensionTags}
                    </div>
                    ${actionsHtml}
                </div>
            `;
        }

        // Toggle matching active/inactive
        async function toggleMatchingStatus() {
            const isActive = document.getElementById('matchingActiveToggle').checked;
            const statusLabel = document.getElementById('matchingStatusLabel');
            
            try {
                const response = await fetch(`${API_URL}/match/toggle`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({ active: isActive })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    statusLabel.textContent = isActive ? 'Active' : 'Inactive';
                    statusLabel.className = isActive ? 'status-text active' : 'status-text inactive';
                    // Reload match view to show appropriate UI
                    loadMatch();
                } else {
                    alert(data.error || 'Failed to update status');
                    // Revert toggle
                    document.getElementById('matchingActiveToggle').checked = !isActive;
                }
            } catch (error) {
                console.error('Error toggling status:', error);
                alert('Connection error. Please try again.');
                document.getElementById('matchingActiveToggle').checked = !isActive;
            }
        }

        // Reject current match
        async function rejectMatch() {
            if (!confirm('Are you sure you want to reject this match? You will be matched with someone new in the next cycle.')) {
                return;
            }
            
            try {
                const response = await fetch(`${API_URL}/match/reject`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    }
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    alert(data.message || 'Match rejected successfully');
                    loadMatch();
                } else {
                    alert(data.error || 'Failed to reject match');
                }
            } catch (error) {
                console.error('Error rejecting match:', error);
                alert('Connection error. Please try again.');
            }
        }

        // Send message to match
        async function sendMatchMessage() {
            const input = document.getElementById('matchChatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            try {
                const response = await fetch(`${API_URL}/match/messages`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    input.value = '';
                    // Add message to UI immediately
                    addMatchMessage(message, 'sent', data.timestamp);
                } else {
                    alert(data.error || 'Failed to send message');
                }
            } catch (error) {
                console.error('Error sending message:', error);
                alert('Connection error. Please try again.');
            }
        }

        // Load match messages
        async function loadMatchMessages() {
            try {
                const response = await fetch(`${API_URL}/match/messages`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const data = await response.json();
                
                if (response.ok && data.messages.length > 0) {
                    const messagesDiv = document.getElementById('matchChatMessages');
                    messagesDiv.innerHTML = '';
                    
                    data.messages.forEach(msg => {
                        const type = msg.from === currentUser?.user_id ? 'sent' : 'received';
                        addMatchMessage(msg.message, type, msg.timestamp);
                    });
                }
            } catch (error) {
                console.error('Error loading match messages:', error);
            }
        }

        // Add match message to UI
        function addMatchMessage(text, type, timestamp) {
            const messagesDiv = document.getElementById('matchChatMessages');
            if (!messagesDiv) return;
            
            // Clear placeholder if exists
            if (messagesDiv.querySelector('[style*="text-align: center"]')) {
                messagesDiv.innerHTML = '';
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `match-message ${type}`;
            
            const timeStr = timestamp ? new Date(timestamp).toLocaleTimeString() : 'Just now';
            
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div style="font-size: 0.75rem; opacity: 0.7; margin-top: 5px;">${timeStr}</div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Enter key to send match message
        document.addEventListener('DOMContentLoaded', () => {
            document.addEventListener('keypress', (e) => {
                if (e.target.id === 'matchChatInput' && e.key === 'Enter') {
                    sendMatchMessage();
                }
            });
        });

        // Load profile
        async function loadProfile() {
            try {
                const response = await fetch(`${API_URL}/profile`, {
                    headers: { 'Authorization': `Bearer ${authToken}` }
                });
                
                const profile = await response.json();
                
                if (response.ok && profile.dimensions) {
                    const dimensionsList = document.getElementById('profileDimensionsList');
                    dimensionsList.innerHTML = '';
                    
                    Object.entries(profile.dimensions).forEach(([key, value]) => {
                        const section = document.createElement('div');
                        section.className = 'dimension-section';
                        section.innerHTML = `
                            <h3>${key}</h3>
                            <div class="dimension-content">
                                ${typeof value === 'object' ? 
                                    JSON.stringify(value, null, 2) : 
                                    value}
                            </div>
                        `;
                        dimensionsList.appendChild(section);
                    });
                }
            } catch (error) {
                console.error('Error loading profile:', error);
            }
        }

        // Logout
        function logout() {
            authToken = null;
            currentUser = null;
            document.getElementById('mainNav').classList.remove('active');
            document.getElementById('landingPage').style.display = 'block';
            document.getElementById('dashboardView').style.display = 'none';
            document.getElementById('chatView').style.display = 'none';
            document.getElementById('matchView').style.display = 'none';
            document.getElementById('profileView').style.display = 'none';
            
            // Clear forms
            document.getElementById('signupForm').reset();
            document.getElementById('loginForm').reset();
            document.getElementById('signupMessage').innerHTML = '';
            document.getElementById('loginMessage').innerHTML = '';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
